<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Skythread</title>
  <link href="./fontawesome/fontawesome.min.css" rel="stylesheet">
  <link href="./fontawesome/solid.min.css" rel="stylesheet">
  <link href="./fontawesome/regular.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <div id="loader"><img src="icons/sunny.png"></div>

  <div id="search">
    <form method="get">
      ðŸŒ¤ <input type="text" placeholder="Paste the thread link here" name="q">
    </form>
  </div>

  <div id="github">
    <a href="https://github.com/mackuba/skythread" target="_blank">
      <img src="icons/github.png">
    </a>
  </div>

  <div id="login">
    <form method="get">
      <h2>ðŸŒ¤ Skythread</h2>
      <p><input type="text" id="login_handle" required placeholder="name.bsky.social"></p>
      <p><input type="password" id="login_password" required
           placeholder="&#x2731;&#x2731;&#x2731;&#x2731;&#x2731;&#x2731;&#x2731;&#x2731;"></p>
      <p class="info"><a href="#"><i class="fa-regular fa-circle-question"></i>
        Why do I need to log in?</a></p>
      <div class="info-box">
        <p>Bluesky API currently requires authentication to the app.<wbr>bsky.<wbr>feed.<wbr>getPostThread endpoint, which is used to load complete threads.</p>
        <p>At the moment there is no way to log in using OAuth, only with a password. The password is only passed to the Bluesky API and isn't saved anywhere. The returned access token is stored in local storage. You can create an "app password" in the Bluesky app settings that you will only use to log in here.</p>
        <p>You can see the complete source code of this page <a href="http://github.com/mackuba/skythread" target="_blank">on GitHub</a> (and in your browser's web inspector!).</p>
      </div>
      <p class="submit">
        <input id="login_submit" type="submit" value="Log in">
        <i id="cloudy" class="fa-solid fa-cloud fa-beat fa-xl"></i>
      </p>
    </form>
  </div>

  <script src="api.js"></script>
  <script src="utils.js"></script>
  <script src="post_parsing.js"></script>
  <script src="post_component.js"></script>
  <script src="skythread.js"></script>

  <script>
    init();
  </script>
</body>
</html>
